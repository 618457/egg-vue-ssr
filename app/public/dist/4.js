(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{102:function(e,t,i){"use strict";var a=i(28);i.n(a).a},103:function(e,t,i){t=e.exports=i(4)(!1);var a=i(15),n=a(i(104)),s=a(i(105));t.push([e.i,'.idea-feedback[data-v-c3bc9600] {\n  width: 100%;\n  min-height: 100%;\n  box-sizing: border-box;\n  padding: 0.24rem 0.15rem 0.6rem;\n  background-color: #ffffff;\n}\n.idea-feedback[data-v-c3bc9600] .idea .big-text {\n  font-size: 0.2rem;\n  color: #333;\n  font-weight: 700;\n}\n.idea-feedback .idea .yj-title[data-v-c3bc9600] {\n  margin-top: 0.02rem;\n}\n.idea-feedback .idea .btn-box[data-v-c3bc9600] {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 0.49rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #fff;\n}\n.idea-feedback .idea .btn-box > p[data-v-c3bc9600] {\n  width: 100%;\n  height: 100%;\n  line-height: 0.49rem;\n  text-align: center;\n  color: #fff;\n  font-size: 0.15rem;\n  background-color: #cccccc;\n}\n.idea-feedback .idea .btn-box > p.canClick[data-v-c3bc9600] {\n  background-color: #ff5555;\n}\n.idea-feedback .idea .pic-box[data-v-c3bc9600] {\n  margin-top: 0.18rem;\n  margin-bottom: 0.2rem;\n}\n.idea-feedback .idea .pic-box[data-v-c3bc9600]:after {\n  display: block;\n  clear: both;\n  content: "";\n  visibility: hidden;\n  height: 0;\n}\n.idea-feedback .idea .pic-box > div[data-v-c3bc9600] {\n  border-radius: 0.04rem;\n  float: left;\n  width: 0.92rem;\n  height: 0.92rem;\n  margin-left: 0.2rem;\n  margin-bottom: 0.2rem;\n}\n.idea-feedback .idea .pic-box > div[data-v-c3bc9600]:nth-of-type(3n + 1) {\n  margin-left: 0;\n}\n.idea-feedback .idea .pic-box > div.pic-item[data-v-c3bc9600] {\n  position: relative;\n}\n.idea-feedback .idea .pic-box > div.pic-item > img[data-v-c3bc9600] {\n  border-radius: 0.04rem;\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n.idea-feedback .idea .pic-box > div.pic-item .del[data-v-c3bc9600] {\n  position: absolute;\n  top: -0.06rem;\n  right: -0.06rem;\n  width: 0.18rem;\n  height: 0.18rem;\n  border-radius: 50%;\n  background: #fff url('+n+");\n  background-size: 100% 100%;\n}\n.idea-feedback .idea .pic-box > div.upload[data-v-c3bc9600] {\n  border: 0.01rem solid #dbdbdb;\n  position: relative;\n}\n.idea-feedback .idea .pic-box > div.upload .tubiao[data-v-c3bc9600] {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  width: 0.16rem;\n  height: 0.16rem;\n  background: url("+s+");\n  background-size: 100% 100%;\n}\n.idea-feedback .idea .pic-box > div.upload > form[data-v-c3bc9600] {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n.idea-feedback .idea .pic-box > div.upload > form > input[data-v-c3bc9600] {\n  display: block;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n}\n.idea-feedback .idea .suggestion-label[data-v-c3bc9600] {\n  position: relative;\n  top: 0.14rem;\n  font-size: 0.16rem;\n  line-height: 0.16rem;\n  margin-top: 0.2rem;\n  margin-bottom: 0.06rem;\n  color: #999999;\n}\n.idea-feedback .idea .suggestion-label.focus[data-v-c3bc9600] {\n  top: 0;\n  font-size: 0.12rem;\n}\n.idea-feedback .idea .suggestion-text[data-v-c3bc9600] {\n  border-radius: 0;\n  box-sizing: border-box;\n  display: block;\n  outline: none;\n  border: none;\n  border-bottom: 0.005rem solid #eeeeee;\n  padding: 0;\n  padding-bottom: 0.2rem;\n  width: 100%;\n  font-size: 0.16rem;\n  z-index: 1;\n}\n.idea-feedback .idea .add-pic[data-v-c3bc9600] {\n  margin-top: 0.4rem;\n  line-height: 1;\n}\n.idea-feedback .idea .lianxi-title[data-v-c3bc9600] {\n  line-height: 1;\n}\n",""])},104:function(e,t){e.exports="data:image/png;base64,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"},105:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALNJREFUaAXtmEEOgzAMBAlvyv9fkD9R9b45TdmCNBwX2VZmLCQyjhuetdaV2s45R8pJdpLiJ9R6gH9b0IAGIAFXCALE5RrACGEDDUCAuFwDGCFsoAEIEJdrACOEDTQAAeLysfsBx51LDVyhEujtGA1s0ZRevN7Az6/6vuB3XzavFsNavn6FPECwWo00UMUdhmkgQKlGGqjiDsM0EKBUIw1UcYdhGghQqpEGqrjDMA0EKNXoAwN0C8G6RaptAAAAAElFTkSuQmCC"},110:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"idea-feedback"},[i("div",{staticClass:"idea"},[i("p",{staticClass:"big-text yj-title"},[e._v("请在这里填写您的意见，我们将不断改进。谢谢支持（必填）")]),e._v(" "),i("p",{staticClass:"suggestion-label",class:{focus:e.isFocus}},[e._v("功能建议")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.suggestion,expression:"suggestion"}],staticClass:"suggestion-text",attrs:{maxlength:"300",rows:"1",id:"suggestion_text"},domProps:{value:e.suggestion},on:{focus:e.focus,blur:e.blur,input:[function(t){t.target.composing||(e.suggestion=t.target.value)},e.autoTextAreaHeight]}}),e._v(" "),i("p",{staticClass:"big-text add-pic"},[e._v("上传截图，让意见更清晰（选填）")]),e._v(" "),i("div",{staticClass:"pic-box"},[e._l(e.imgUrls,function(t,a){return i("div",{key:a,staticClass:"pic-item"},[i("img",{attrs:{src:t}}),i("span",{staticClass:"del",on:{click:function(t){return e.delImg(a)}}})])}),e._v(" "),e.imgKeys.length<9?i("div",{staticClass:"upload"},[i("div",{staticClass:"tubiao"}),e._v(" "),i("form",{attrs:{method:"post",enctype:"multipart/form-data"}},[i("input",{attrs:{type:"file",id:"upload_file",value:""},on:{change:e.selectFile}})])]):e._e()],2),e._v(" "),i("p",{staticClass:"big-text lianxi-title"},[e._v("联系方式（选填）")]),e._v(" "),i("p",{staticClass:"suggestion-label",class:{focus:e.isFocuInput}},[e._v("手机，QQ或邮箱")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.contactWay,expression:"contactWay"}],staticClass:"suggestion-text",attrs:{maxlength:"50"},domProps:{value:e.contactWay},on:{focus:e.focusInput,blur:e.blurInput,input:[function(t){t.target.composing||(e.contactWay=t.target.value)},e.contactWayInputing]}}),e._v(" "),i("div",{staticClass:"btn-box"},[i("p",{staticClass:"upload-btn",class:{canClick:e.canClick},on:{click:e.tijiao}},[e._v("提交")])])])])};a._withStripped=!0;var n=i(13),s=i(17),o=i.n(s),c=(i(19),{addFeedback:(e,t)=>o.a.post("/api/user/feedback",e,{headers:{"api-version":"1.0.0"}})}),d=i(14),r={data:()=>({suggestion:"",contactWay:"",isFocus:!1,isFocuInput:!1,canClick:!1,imgUrls:[],imgKeys:[],uploadURL:"/api/file/upload",token:"",uuid:""}),methods:{tijiao(){if(this.suggestion.length>0){let e={feedback:this.suggestion,image:this.imgKeys,contactWay:this.contactWay};c.addFeedback(e).then(e=>{1==e.code?(this.Toast("提交成功！"),Object(n.a)(e=>{e.callHandler("closeWebView",{})})):this.Toast(e.msg)},e=>{this.Toast(e)})}},selectFile(){let e=document.getElementById("upload_file").files[0],t=new FormData;t.append("file",e),t.append("fileType",2);let i=new XMLHttpRequest;i.open("post",this.uploadURL,!0),i.setRequestHeader("token",this.token),i.setRequestHeader("uuid",this.uuid),i.onload=(()=>{let t=JSON.parse(i.response);if(1==t.code){let i=new FileReader;i.onload=(e=>{this.imgUrls.push(e.target.result)}),i.readAsDataURL(e),this.imgKeys.push(t.data.list[0].key)}else this.Toast("上传图片失败！")}),i.send(t)},delImg(e){this.imgUrls.splice(e,1),this.imgKeys.splice(e,1)},focus(){this.isFocus=!0},focusInput(){this.isFocuInput=!0},blur(){this.isCanClick(),0==this.suggestion.length&&(this.isFocus=!1)},blurInput(){0==this.contactWay.length&&(this.isFocuInput=!1)},contactWayInputing(){this.contactWay.length},autoTextAreaHeight(){this.isCanClick();var e=document.getElementById("suggestion_text");e.style.height=e.scrollHeight+"px"},isCanClick(){this.suggestion.length>0?this.canClick=!0:this.canClick=!1},Toast(e,t){t=isNaN(t)?3e3:t;var i=document.createElement("div");i.innerHTML=e,i.style.cssText="width: 1.04rem;height: .33rem;opacity: 0.7;color: rgb(255, 255, 255);line-height: .33rem;text-align: center;border-radius: .25rem;position: fixed;top: 1.26rem;left: 0;right:0;margin:auto;z-index: 999999;background-color: rgba(0, 0, 0);font-size: .13rem;",document.body.appendChild(i),setTimeout(function(){i.style.webkitTransition="-webkit-transform 0.5s ease-in, opacity 0.5s ease-in",i.style.opacity="0",setTimeout(function(){document.body.removeChild(i)},500)},t)}},created(){d.a.then(e=>{const{token:t,uuid:i}=e;this.token=t,this.uuid=i})}},l=(i(102),i(3)),u=Object(l.a)(r,a,[],!1,null,"c3bc9600",null);u.options.__file="app/src/views/ideaFeedback/feedback.vue";t.default=u.exports},13:function(e,t,i){"use strict";function a(e){if(window){if(window.WebViewJavascriptBridge)return e(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var t=document.createElement("iframe");t.style.display="none",t.src="https://__bridge_loaded__",document.documentElement.appendChild(t),setTimeout(function(){document.documentElement.removeChild(t)},0)}}i.d(t,"a",function(){return a})},14:function(e,t,i){"use strict";var a=i(13);t.a=new Promise(e=>{Object(a.a)(t=>{t.callHandler("getToken",{},t=>{e(t)})})})},19:function(e,t,i){"use strict";var a=i(17),n=i.n(a),s=i(13),o=i(14);n.a.defaults.baseURL="http://47.110.247.100:8081",n.a.defaults.headers["Content-Type"]="application/json; charset=utf-8",o.a.then(e=>{const{token:t,uuid:i}=e;n.a.defaults.headers.token=t,n.a.defaults.headers["app-uuid"]=i}).catch(()=>{}),n.a.interceptors.response.use(e=>{var t=e.data;return 3==t.code&&Object(s.a)(e=>{e.callHandler("nologin",{})}),t},e=>{var t="";if(e&&e.response)switch(e.response.status){case 400:t="错误请求";break;case 401:t="未授权，请重新登录";break;case 403:t="拒绝访问";break;case 404:t="请求错误,未找到该资源";break;case 405:t="请求方法未允许";break;case 408:t="请求超时";break;case 500:t="服务器端出错";break;case 501:t="网络未实现";break;case 502:t="网络错误";break;case 503:t="服务不可用";break;case 504:t="网络超时";break;case 505:t="http版本不支持该请求";break;default:t=`连接错误${err.response.status}`}else t="连接到服务器失败";return alert(t),Promise.reject()})},28:function(e,t,i){var a=i(103);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,i(5).default)("5ed057b2",a,!1,{})}}]);